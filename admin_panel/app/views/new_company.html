<div class="modal-header">
  <h3 class="modal-title">Add/edit company</h3>
</div>
<div class="modal-body">
  <form show-validation novalidate name="editCompany" class="form-horizontal" role="form">
    <h4>General information</h4>
    <div class="well">
      <div class="form-group">
        <label for="companyName" class="col-sm-3 control-label">Company name *</label>
        <div class="col-sm-9">
          <input name="companyName" type="text" class="form-control" id="companyName" 
            placeholder="Company name" ng-model="company.name" required />
        </div>
      </div>
      <div class="form-group">
        <label for="companyTAX" class="col-sm-3 control-label">TAX number *</label>
        <div class="col-sm-9">
          <input name="companyTax" type="text" class="form-control" id="companyTAX" 
            placeholder="TAX" ng-model="company.tax" required />
        </div>
      </div>

      <div class="form-group">
        <label for="companyAdress" class="col-sm-3 control-label">Adress *</label>
        <div class="col-sm-9">
          <input name="companyAdress" type="text" class="form-control" id="companyAdress" 
            placeholder="Company adress" ng-model="company.adress" required />
        </div>        
      </div>
      <div class="form-group">
        <label for="companyZip" class="col-sm-3 control-label">Zip *</label>
        <div class="col-sm-3">
          <input name="companyZip" type="text" class="form-control" id="companyZip" 
            placeholder="ZIP code" ng-model="company.zip" required />
        </div>        
        <label for="companyCity" class="col-sm-2 control-label">City *</label>
        <div class="col-sm-4">
          <input type="text" class="form-control" id="companyCity" 
            placeholder="City" ng-model="company.city" required />
        </div>        
      </div>
      <div class="form-group">
        <label for="companyPhone" class="col-sm-3 control-label">Phone number</label>
        <div class="col-sm-3">
          <input name="companyPhone" type="text" class="form-control" id="companyPhone" 
            placeholder="Phone" ng-model="company.phone" />
        </div>        

        <label for="companyFax" class="col-sm-2 control-label">Fax number</label>
        <div class="col-sm-4">
          <input name="companyFax" type="text" class="form-control" id="companyFax" 
            placeholder="Fax" ng-model="company.fax" />
        </div>
      </div>
      <div class="form-group">
        <label for="companyEmail" class="col-sm-3 control-label">Email address</label>
        <div class="col-sm-3">
          <input name="companyEmail" type="email" class="form-control" id="companyEmail" 
            placeholder="Email" ng-model="company.email" />
        </div>        

        <label for="companyWWW" class="col-sm-2 control-label">Website</label>
        <div class="col-sm-4">
          <input name="companyWWW" type="text" class="form-control" id="companyWWW" 
            placeholder="text" ng-model="company.www" />
        </div>
      </div>
    </div>

    <h4>Company Users</h4>
    <div class="user-data well" ng-repeat="user in company.users">
    <div class="row">
    <button type="button" class="close pull-left" aria-hidden="true" ng-show="company.users.length > 1" ng-click="removeUser($index)">&times;</button>
    </div>
      <div class="form-group">
        <label for="user-{{$index}}-name" class="col-sm-3 control-label">Names *</label>
        <div class="col-sm-3">
          <input type="text" class="form-control" id="user-{{$index}}-name" 
            placeholder="Names" ng-model="company.users[$index].name" required />
        </div>        

        <label for="user-{{$index}}-surname" class="col-sm-2 control-label">Surname *</label>
        <div class="col-sm-4">
          <input type="text" class="form-control" id="user-{{$index}}-surname" 
            placeholder="Surname" ng-model="company.users[$index].surname" required />
        </div>        
      </div>

      <div class="form-group">
        <label for="user-{{$index}}-email" class="col-sm-3 control-label">Email address *</label>
        <div class="col-sm-3">
          <input type="email" class="form-control" id="user-{{$index}}-email" 
            placeholder="Email" ng-model="company.users[$index].email" required />
        </div>

        <label for="user-{{$index}}-function" class="col-sm-2 control-label">Function</label>
        <div class="col-sm-4">
          <input type="text" class="form-control" id="user-{{$index}}-function" 
            placeholder="Function" ng-model="company.users[$index].function" />
        </div>        
      </div>

      <div class="form-group">
        <label for="user-{{$index}}-phone" class="col-sm-3 control-label">Phone number</label>
        <div class="col-sm-3">
          <input type="number" class="form-control" id="user-{{$index}}-phone" 
            placeholder="Phone" ng-model="company.users[$index].phone" />
        </div>        

        <label for="user-{{$index}}-fax" class="col-sm-2 control-label">Fax number</label>
        <div class="col-sm-4">
          <input type="number" class="form-control" id="user-{{$index}}-fax" 
            placeholder="Fax" ng-model="company.users[$index].fax" />
        </div>        
      </div>
    </div>
    <button class="btn btn-primary" ng-click="addUser()">Add user</button>
  </form>


</div>
<div class="modal-footer">
    <p ng-if="!editCompany.$valid" class="text-warning">Please fill all required fields</p>
    <button class="btn btn-primary" ng-disabled="!editCompany.$valid" ng-click="ok(company)">OK</button>
    <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
</div>
